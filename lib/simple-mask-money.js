!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleMaskMoney=t():e.SimpleMaskMoney=t()}(window,function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autoCompleteDecimal=!1,this.decimalSeparator=",",this.fixed=!0,this.fractionDigits=2,this.prefix="",this.suffix="",this.thousandsSeparator=".",this.merge(t)}return n(e,[{key:"merge",value:function(e){e&&"object"===(void 0===e?"undefined":i(e))&&(this.fixed="boolean"==typeof e.fixed?e.fixed:this.fixed,this.autoCompleteDecimal=e.autoCompleteDecimal||this.autoCompleteDecimal,this.decimalSeparator=e.decimalSeparator||this.decimalSeparator,this.fractionDigits=e.fractionDigits||this.fractionDigits,this.prefix=e.prefix||e.preffix||this.prefix,this.suffix=e.suffix||this.suffix,this.thousandsSeparator=e.thousandsSeparator||this.thousandsSeparator)}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),a=(i=r(0))&&i.__esModule?i:{default:i},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.args=new a.default(t)}return n(e,[{key:"completer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.args.fixed?"".padEnd(e,"0"):"".padEnd(e,"_")}},{key:"emptyOrInvalid",value:function(){return""+this.completer()+this.args.decimalSeparator+this.completer(2)}},{key:"onlyNumber",value:function(e){for(var t="",r=0;r<e.length;r++)isFinite(e[r])&&(t+=e[r]);return t}},{key:"addingPrefix",value:function(e){return""+this.args.prefix+e}},{key:"removingPrefix",value:function(e){return e.replace(this.args.prefix,"")}},{key:"addingSuffix",value:function(e){return""+e+this.args.suffix}},{key:"removingSuffix",value:function(e){return e.includes(this.args.suffix,e.length-this.args.fractionDigits)?e.replace(this.args.suffix,""):e.substring(0,e.length-1)}},{key:"addingCompleterFromStart",value:function(e,t){for(;e.length<this.args.fractionDigits;)e=""+t+e;return e}},{key:"addingCompleterFromEnd",value:function(e,t){for(;e.length<this.args.fractionDigits;)e=""+e+t;return e}},{key:"removingCompleterFromStart",value:function(e,t){for(;e[0]===t;)e=e.replace(t,"");return e}},{key:"removingCompleterFromEnd",value:function(e,t){for(;e[e.length-1]===t;)e=e.substring(0,e.length-1);return e}},{key:"addingAutoComplete",value:function(e){return""+e+this.addingCompleterFromEnd("","0")}},{key:"autoComplete",value:function(e){var t=new RegExp("\\"+this.args.decimalSeparator,"g");return(e.match(t)||[]).length>1&&(e=this.addingAutoComplete(e)),e}},{key:"addingDecimalSeparator",value:function(e,t,r){var i=e.length-this.args.fractionDigits,n=void 0,a="$1",o=t,u=isFinite(t)?"d":"w";return n="(\\"+u+"{"+this.args.fractionDigits+"})",i>0&&(n="(\\"+u+"{"+i+"})"+n,o=a,a="$2"),e.replace(new RegExp(n),""+o+r+a)}},{key:"addingHundredsSeparator",value:function(e){for(var t=e.length-this.args.fractionDigits,r=Math.ceil(t/3),i="(\\d)",n=this.args.decimalSeparator+"$"+(r+1),a=r;0!==a;a--)t>=3?(i="(\\d{3})"+i,t-=3):i="(\\d{"+t+"})"+i,n=a>1?this.args.thousandsSeparator+"$"+a+n:"$"+a+n;return e.replace(new RegExp(i),n)}},{key:"removeSeparator",value:function(e,t){return e.replace(new RegExp("\\"+t,"g"),"")}},{key:"formatDecimal",value:function(e,t,r){return e=this.addingCompleterFromStart(e,t),this.addingDecimalSeparator(e,t,r)}},{key:"textToNumber",value:function(e){var t=e.toString(),r=this.completer();return this.args.prefix&&(t=this.removingPrefix(t)),this.args.suffix&&(t=this.removingSuffix(t)),this.args.autoCompleteDecimal&&(t=this.autoComplete(t)),t=this.removeSeparator(t,this.args.thousandsSeparator),t=this.removeSeparator(t,this.args.decimalSeparator),t=this.onlyNumber(t),(t=this.removingCompleterFromStart(t,r))||(this.args.fixed?"0":"")}},{key:"numberToText",value:function(e){var t=this.emptyOrInvalid();return"NaN"!==parseFloat(e)&&(t=e.length<=this.args.fractionDigits?this.formatDecimal(e,this.completer(),this.args.decimalSeparator):this.addingHundredsSeparator(e)),this.args.prefix&&(t=this.addingPrefix(t)),this.args.suffix&&(t=this.addingSuffix(t)),t}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleMaskMoney=void 0;var i=a(r(0)),n=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.SimpleMaskMoney=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new i.default,a=new n.default(r);Object.defineProperty(this,"args",{get:function(){return r},set:function(e){r=new i.default(e),a=new n.default(r)}}),this.format=function(e){return a.numberToText(a.textToNumber(e))},this.formatToNumber=function(e){var t="0",i=a.textToNumber(e);if("NaN"!==parseFloat(i)){if(i.length<=r.fractionDigits)i=a.formatDecimal(i,"0",".");else{var n=i.length-r.fractionDigits;i=i.replace(new RegExp("(\\d{"+n+"})(\\d{"+r.fractionDigits+"})"),"$1.$2")}t=i}return parseFloat(t)},this.setMask=function(e,n){var a="string"==typeof e?document.querySelector(e):e;return n&&(r=new i.default(n)),a.addEventListener("keypress",function(){a.value=t.format(a.value)}),a.addEventListener("input",function(){a.value=t.format(a.value)}),a.formatToNumber=function(){return t.formatToNumber(a.value)},a}};e.exports=new o}])});