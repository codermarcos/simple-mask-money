!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleMaskMoney=t():e.SimpleMaskMoney=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decimalSeparator=",",this.fixed=!0,this.fractionDigits=2,this.prefix="",this.suffix="",this.thousandsSeparator=".",this.merge(t)}return i(e,[{key:"merge",value:function(e){e&&"object"===(void 0===e?"undefined":n(e))&&(this.fixed="boolean"==typeof e.fixed?e.fixed:this.fixed,this.decimalSeparator=e.decimalSeparator||this.decimalSeparator,this.fractionDigits=e.fractionDigits||this.fractionDigits,this.prefix=e.prefix||e.preffix||this.prefix,this.suffix=e.suffix||this.suffix,this.thousandsSeparator=e.thousandsSeparator||this.thousandsSeparator)}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=(n=o)&&n.__esModule?n:{default:n};var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.args=new a.default(t)}return i(e,[{key:"completer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.args.fixed?"".padEnd(e,"0"):"".padEnd(e,"_")}},{key:"emptyOrInvalid",value:function(){return""+this.completer()+this.args.decimalSeparator+this.completer(2)}},{key:"onlyNumber",value:function(e){for(var t="",r=0;r<e.length;r++)isFinite(e[r])&&(t+=e[r]);return t}},{key:"addingPrefix",value:function(e){return""+this.args.prefix+e}},{key:"removingPrefix",value:function(e){return e.replace(this.args.prefix,"")}},{key:"addingSuffix",value:function(e){return""+e+this.args.suffix}},{key:"removingSuffix",value:function(e){return e=e.includes(this.args.suffix,e.length-this.args.fractionDigits)?e.replace(this.args.suffix,""):e.substring(0,e.length-1)}},{key:"addingCompleterFromStart",value:function(e,t){for(;e.length<this.args.fractionDigits;)e=""+t+e;return e}},{key:"addingCompleterFromEnd",value:function(e,t){for(;e.length<this.args.fractionDigits;)e=""+e+t;return e}},{key:"removingCompleterFromStart",value:function(e,t){for(;e[0]===t;)e=e.replace(t,"");return e}},{key:"removingCompleterFromEnd",value:function(e,t){for(;e[e.length-1]===t;)e=e.substring(0,e.length-1);return e}},{key:"addingAutoComplete",value:function(e){return""+e+this.addingCompleterFromEnd("","0")}},{key:"autoComplete",value:function(e){var t=new RegExp("\\"+this.args.decimalSeparator,"g");return(e.match(t)||[]).length>1&&(e=this.addingAutoComplete(e)),e}},{key:"addingDecimalSeparator",value:function(e,t,r){var n=e.length-this.args.fractionDigits,i=void 0,o="$1",a=t,u=isFinite(t)?"d":"w";return i="(\\"+u+"{"+this.args.fractionDigits+"})",n>0&&(i="(\\"+u+"{"+n+"})"+i,a=o,o="$2"),e.replace(new RegExp(i),""+a+r+o)}},{key:"addingHundredsSeparator",value:function(e){for(var t=e.length-this.args.fractionDigits,r=Math.ceil(t/3),n="(\\d)",i=this.args.decimalSeparator+"$"+(r+1),o=r;0!==o;o--)t>=3?(n="(\\d{3})"+n,t-=3):n="(\\d{"+t+"})"+n,i=o>1?this.args.thousandsSeparator+"$"+o+i:"$"+o+i;return e.replace(new RegExp(n),i)}},{key:"removeSeparator",value:function(e,t){return e.replace(new RegExp("\\"+t,"g"),"")}},{key:"formatDecimal",value:function(e,t,r){return e=this.addingCompleterFromStart(e,t),e=this.addingDecimalSeparator(e,t,r)}},{key:"textToNumber",value:function(e){var t=e.toString(),r=this.completer();return this.args.prefix&&(t=this.removingPrefix(t)),this.args.suffix&&(t=this.removingSuffix(t)),t=this.removeSeparator(t,this.args.thousandsSeparator),t=this.removeSeparator(t,this.args.decimalSeparator),t=this.onlyNumber(t),(t=this.removingCompleterFromStart(t,r))||(this.args.fixed?"0":"")}},{key:"numberToText",value:function(e){var t=this.emptyOrInvalid();return"NaN"!==parseFloat(e)&&(t=e.length<=this.args.fractionDigits?this.formatDecimal(e,this.completer(),this.args.decimalSeparator):this.addingHundredsSeparator(e)),this.args.prefix&&(t=this.addingPrefix(t)),this.args.suffix&&(t=this.addingSuffix(t)),t}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleMaskMoney=void 0;var n=o(r(0)),i=o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SimpleMaskMoney=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new n.default,o=new i.default(r);Object.defineProperty(this,"args",{get:function(){return r},set:function(e){r=new n.default(e),o=new i.default(r)}}),this.format=function(e){return o.numberToText(o.textToNumber(e))},this.formatToNumber=function(e){var t="0",n=o.textToNumber(e);if("NaN"!==parseFloat(n)){if(n.length<=r.fractionDigits)n=o.formatDecimal(n,"0",".");else{var i=n.length-r.fractionDigits;n=n.replace(new RegExp("(\\d{"+i+"})(\\d{"+r.fractionDigits+"})"),"$1.$2")}t=n}return parseFloat(t)},this.setMask=function(e,r){var n="string"==typeof e?document.querySelector(e):e;return r&&(t.args=r),n.addEventListener("keypress",function(){n.value=t.format(n.value)}),n.addEventListener("input",function(){n.value=t.format(n.value)}),n.formatToNumber=function(){return t.formatToNumber(n.value)},n}};e.exports=new a}])});
//# sourceMappingURL=simple-mask-money.js.map